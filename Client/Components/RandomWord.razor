@using PalabrasApp.Shared

@if (palabra != null)
{
        <h4>@palabra.EnglishWord</h4>

        <a @onclick="toggleShowAnswer">&#128065;</a>

        <br />

        <div class="row">

        <br />

        @if (displayAnswer)
        {
            <h3>@palabra.SpanishWord</h3>
        
        }
        </div>
        <EditForm Model="@submittedWord" OnSubmit="@CheckWord">
            <InputText id="submit_word" @bind-Value="submittedWord.AnswerText" />
            <button type="submit">Check</button>
        </EditForm>

        @if (isCorrectAnswer)
        {
            <span class="correct_answer">&#x2714;</span>
        }

        }
        else
        {
        <span>You don't have any words in your list yet.</span>
        }


@code {

    [Parameter]
    public Palabra palabra { get; set; }
    private string spanishWord;
    private string englishWord;
    private Answer submittedWord = new Answer();
    private bool displayAnswer = false;
    private bool isCorrectAnswer;

    protected void CheckWord()
    {
        Console.WriteLine("Method executed!");
        var correctWord = palabra.SpanishWord.ToLower();
        var givenWord = submittedWord.AnswerText.ToLower();

        if (correctWord == givenWord)
        {
            isCorrectAnswer = true;
        }
        else
        {
            isCorrectAnswer = false;
        }

    }

    protected void toggleShowAnswer()
    {
        displayAnswer = !displayAnswer;
    }
}
